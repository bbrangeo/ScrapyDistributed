{% extends 'layout.html' %}
{% block content %}
<div class="container">
    <form action="{% url 'edit' spider.id %}" method="post" class="form-horizontal">
        <div class="form-group">
            <div class="col-md-12 text-center">
                <input type="submit" value="Submit" class="btn btn-sm btn-primary"/>
            </div>
        </div>
        <div class="row">
            {% csrf_token %}
            <div class="panel col-md-6">
                <div class="panel-heading">
                    <h4 class="text-center">Create A New Spider</h4>
                </div>
                <div class="panel-body">

                    <div class="form-group">
                        <label for="name" class="control-label col-md-2 col-sm-12 col-xs-12">Name</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="name" id="name" title="name" class="form-control m-b-sm"
                                   value="{{ spider.name }}"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="allowed_domains" class="control-label col-md-2 col-sm-12 col-xs-12">Allowed
                            Domains</label>

                        {% for item in spider.get_allowed_domains %}

                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="allowed_domains[]" title="allowed_domains"
                                   id="allowed_domains" class="form-control m-b-sm" value="{{ item }}">

                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="allowed_domains[]" title="allowed_domains"
                                   class="form-control m-b-sm" value="{{ item }}">

                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-danger btn-xs del" value="delete">
                        </div>
                        {% endif %}

                        {% endfor %}

                    </div>
                    <div class="form-group">
                        <label for="start_urls" class="control-label col-md-2 col-sm-12 col-xs-12">Start Urls</label>
                        {% for item in spider.get_start_urls %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="start_urls[]" id="start_urls" title="start_urls"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="start_urls[]" title="start_urls"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}

                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="custom_settings" class="control-label col-md-2 col-sm-12 col-xs-12">Custom
                            Settings</label>
                        {% for item in spider.get_custom_settings %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="custom_settings[]" id="custom_settings" title="custom_settings"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="custom_settings[]" title="custom_settings"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}

                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="crawler" class="control-label col-md-2 col-sm-12 col-xs-12">Crawler</label>
                        {% for item in spider.get_crawler %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="crawler[]" id="crawler" title="crawler"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="crawler[]" title="crawler"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="settings" class="control-label col-md-2 col-sm-12 col-xs-12">Settings</label>
                        {% for item in spider.get_settings %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="settings[]" id="settings" title="settings"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="settings[]" title="settings"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="logger" class="control-label col-md-2 col-sm-12 col-xs-12">Logger</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="logger" id="logger" title="logger" class="form-control m-b-sm"/>
                        </div>
                    </div>

                </div>
            </div>
            {% for rule in rules %}
            <div class="panel col-md-6">
                <div class="panel-heading">
                    <h4 class="text-center">Create Rules of Spider</h4>
                </div>
                <div class="panel-body">

                    <div class="form-group">
                        <label for="allow" class="control-label col-md-2 col-sm-12 col-xs-12">Allow</label>
                        {% for item in rule.get_allow %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="allow[]" id="allow" title="allow" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="allow[]" title="allow" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="deny" class="control-label col-md-2 col-sm-12 col-xs-12">Deny</label>
                        {% for item in rule.get_deny %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="deny[]" id="deny" title="deny"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="deny[]" title="deny"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="allow_domains" class="control-label col-md-2 col-sm-12 col-xs-12">Allow
                            Domains</label>
                        {% for item in rule.get_allow_domains %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="allow_domains[]" id="allow_domains" title="allow_domains"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="allow_domains[]" title="allow_domains"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="deny_domains" class="control-label col-md-2 col-sm-12 col-xs-12">Deny
                            Domains</label>
                        {% for item in rule.get_deny_domains %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="deny_domains[]" id="deny_domains" title="deny_domains"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="deny_domains[]" title="deny_domains"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="deny_extensions" class="control-label col-md-2 col-sm-12 col-xs-12">Deny
                            Extensions</label>
                        {% for item in rule.get_deny_extensions %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="deny_extensions[]" id="deny_extensions" title="deny_extensions"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="deny_extensions[]" title="deny_extensions"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="restrict_xpaths" class="control-label col-md-2 col-sm-12 col-xs-12">Restrict
                            Xpaths</label>
                        {% for item in rule.get_restrict_xpaths %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="restrict_xpaths[]" id="restrict_xpaths" title="restrict_xpaths"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="restrict_xpaths[]" title="restrict_xpaths"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="restrict_css" class="control-label col-md-2 col-sm-12 col-xs-12">Restrict
                            CSS</label>
                        {% for item in rule.get_restrict_css %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="restrict_css[]" id="restrict_css" title="restrict_css"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="restrict_css[]" title="restrict_css"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="tags" class="control-label col-md-2 col-sm-12 col-xs-12">Tags</label>
                        {% for item in rule.get_tags %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="tags[]" id="tags" title="tags" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="tags[]" title="tags" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="attrs" class="control-label col-md-2 col-sm-12 col-xs-12">Attrs</label>
                        {% for item in rule.get_tags %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="attrs[]" id="attrs" title="attrs" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="attrs[]" title="attrs" class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="canonicalize"
                               class="control-label col-md-2 col-sm-12 col-xs-12">Canonicalize</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="canonicalize" id="canonicalize" title="canonicalize"
                                   class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="unique" class="control-label col-md-2 col-sm-12 col-xs-12">Unique</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="unique" id="unique" title="unique" class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="process_value" class="control-label col-md-2 col-sm-12 col-xs-12">Process
                            Value</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="process_value" id="process_value" title="process_value"
                                   class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="callback" class="control-label col-md-2 col-sm-12 col-xs-12">Callback</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="callback" id="callback" title="callback"
                                   class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="cb_kwargs" class="control-label col-md-2 col-sm-12 col-xs-12">Cb Kwargs</label>
                        {% for item in rule.get_tags %}
                        {% if forloop.first %}
                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="cb_kwargs[]" id="cb_kwargs" title="cb_kwargs"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% else %}
                        <div class="col-md-9 col-sm-10 col-xs-10 col-md-offset-2">
                            <input type="text" name="cb_kwargs[]" title="cb_kwargs"
                                   class="form-control m-b-sm" value="{{ item }}"/>
                        </div>
                        <div class="col-md-1 col-sm-2 col-xs-2 p-t-xs">
                            <input type="button" class="btn btn-primary btn-xs add" value="add">
                        </div>
                        {% endif %}
                        {% endfor %}
                    </div>
                    <div class="form-group">
                        <label for="follow" class="control-label col-md-2 col-sm-12 col-xs-12">Follow</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="follow" id="follow" title="follow" class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="process_links" class="control-label col-md-2 col-sm-12 col-xs-12">Process
                            Links</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="process_links" id="process_links" title="process_links"
                                   class="form-control m-b-sm"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="process_request" class="control-label col-md-2 col-sm-12 col-xs-12">Process
                            Request</label>

                        <div class="col-md-9 col-sm-10 col-xs-10">
                            <input type="text" name="process_request" id="process_request" title="process_request"
                                   class="form-control m-b-sm"/>
                        </div>
                    </div>


                </div>
            </div>
            {% endfor %}
        </div>

    </form>
</div>

{% endblock %}